<div class="pagetitle">
  <h1>Profile</h1>
  <nav>
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a routerLink="/index">Home</a></li>
      <li class="breadcrumb-item">Users</li>
      <li class="breadcrumb-item active">Profile</li>
    </ol>
  </nav>
</div>
<!-- End Page Title -->

<section class="section profile">
  <div class="row">
    <div class="col-xl-4">
      <div class="card">
        <div
          class="card-body profile-card pt-4 d-flex flex-column align-items-center"
        >
          <img
            src="~/img/Model.ImagePath"
            style="height: 45px; width: 45px"
            class="rounded-circle"
          />
          <h3>Html.DisplayFor(modelItem => Model.Username)</h3>
          <h3>Html.DisplayFor(modelItem => Model.Job.JobName)</h3>
          <div class="social-links mt-2">
            <a href="#" class="twitter"><i class="bi bi-twitter"></i></a>
            <a href="#" class="facebook"><i class="bi bi-facebook"></i></a>
            <a href="#" class="instagram"><i class="bi bi-instagram"></i></a>
            <a href="#" class="linkedin"><i class="bi bi-linkedin"></i></a>
          </div>
        </div>
      </div>
    </div>

    <div class="col-xl-8">
      <div class="card">
        <div class="card-body pt-3">
          <!-- Bordered Tabs -->
          <ul class="nav nav-tabs nav-tabs-bordered" id="profileTabs">
            <li class="nav-item">
              <button
                class="nav-link active"
                id="btnOverview"
                data-bs-toggle="tab"
                data-bs-target="#profile-overview"
              >
                Overview
              </button>
            </li>

            <li class="nav-item">
              <button
                class="nav-link"
                id="btnEditProfile"
                data-bs-toggle="tab"
                data-bs-target="#profile-edit"
              >
                Edit Profile
              </button>
            </li>

            <li class="nav-item">
              <button
                class="nav-link"
                id="btnSettings"
                data-bs-toggle="tab"
                data-bs-target="#profile-settings"
              >
                Settings
              </button>
            </li>
            <li class="nav-item">
              <button
                class="nav-link"
                id="btnChangePassword"
                data-bs-toggle="tab"
                data-bs-target="#profile-change-password"
              >
                Change Password
              </button>
            </li>
          </ul>
          <div class="tab-content pt-2">
            <div
              class="tab-pane fade show active profile-overview"
              id="profile-overview"
            >
              <h5 class="card-title">Discription</h5>
              <p class="small fst-italic">
                Html.DisplayFor(modelItem => Model.Discription)
              </p>

              <h5 class="card-title">Profile Details</h5>

              <div class="row">
                <div class="col-lg-3 col-md-4 label">UserName</div>
                <div class="col-lg-9 col-md-8">
                  Html.DisplayFor(modelItem => modelItem.Username)
                </div>
              </div>

              <div class="row">
                <div class="col-lg-3 col-md-4 label">Company</div>
                <div class="col-lg-9 col-md-8">
                  Html.DisplayFor(modelItem => modelItem.Company)
                </div>
              </div>

              <div class="row">
                <div class="col-lg-3 col-md-4 label">Job</div>
                <div class="col-lg-9 col-md-8">
                  Html.DisplayFor(modelItem => modelItem.Job.JobName)
                </div>
              </div>

              <div class="row">
                <div class="col-lg-3 col-md-4 label">Country</div>
                <div class="col-lg-9 col-md-8">
                  Html.DisplayFor(modelItem => modelItem.Country)
                </div>
              </div>

              <div class="row">
                <div class="col-lg-3 col-md-4 label">Address</div>
                <div class="col-lg-9 col-md-8">
                  Html.DisplayFor(modelItem => modelItem.Address)
                </div>
              </div>

              <div class="row">
                <div class="col-lg-3 col-md-4 label">Phone</div>
                <div class="col-lg-9 col-md-8">
                  Html.DisplayFor(modelItem => modelItem.Phone)
                </div>
              </div>

              <div class="row">
                <div class="col-lg-3 col-md-4 label">Email</div>
                <div class="col-lg-9 col-md-8">
                  Html.DisplayFor(modelItem => modelItem.Email)
                </div>
              </div>
            </div>

            <div class="tab-pane fade profile-edit pt-3" id="profile-edit">
              <!-- Profile Edit Form -->
              <form
                method="post"
                id="editProfileForm"
                enctype="multipart/form-data"
                asp-action="Edit"
              >
                <div class="row mb-3">
                  <label
                    for="profileImage"
                    class="col-md-4 col-lg-3 col-form-label"
                    >Profile Image</label
                  >
                  <div class="col-md-8 col-lg-9">
                    <img
                      src="~/img/Model.ImagePath"
                      style="height: 45px; width: 45px"
                      class="rounded-circle"
                    />
                    <div class="pt-2">
                      <input
                        name="Photo"
                        class="uploadimage bi bi-upload btn btn-primary"
                        type="file"
                      />
                      <a
                        asp-action="DeleteImage"
                        style="height: 27px; width: 25px"
                        asp-controller="Home"
                        class="btn btn-danger btn-sm"
                        title="Remove my profile image"
                        ><i class="bi bi-trash"></i
                      ></a>
                    </div>
                  </div>
                </div>

                <div class="row mb-3">
                  <label for="fullName" class="col-md-4 col-lg-3 col-form-label"
                    >Full Name</label
                  >
                  <div class="col-md-8 col-lg-9">
                    <input type="text" class="form-control" name="Username" />
                  </div>
                </div>

                <div class="row mb-3">
                  <label for="about" class="col-md-4 col-lg-3 col-form-label"
                    >Discription</label
                  >
                  <div class="col-md-8 col-lg-9">
                    <textarea
                      class="form-control"
                      name="Discription"
                      style="height: 60px"
                    ></textarea>
                  </div>
                </div>

                <div class="row mb-3">
                  <label for="company" class="col-md-4 col-lg-3 col-form-label"
                    >Company</label
                  >
                  <div class="col-md-8 col-lg-9">
                    <input type="text" class="form-control" name="Company" />
                  </div>
                </div>
                <input type="hidden" name="UserId" />
                <input type="hidden" name="Password" />
                <input type="hidden" name="Photo" />
                <input type="hidden" name="ImagePath" />

                <div class="row mb-3">
                  <label
                    name="JobId"
                    class="col-md-4 col-lg-3 col-form-label"
                  ></label>
                  <div class="col-md-8 col-lg-9">
                    <select
                      name="JobId"
                      class="form-control"
                      asp-items="Model.JobList"
                    ></select>
                  </div>
                </div>

                <div class="row mb-3">
                  <label for="Country" class="col-md-4 col-lg-3 col-form-label"
                    >Country</label
                  >
                  <div class="col-md-8 col-lg-9">
                    <input type="text" class="form-control" name="Country" />
                  </div>
                </div>

                <div class="row mb-3">
                  <label for="Address" class="col-md-4 col-lg-3 col-form-label"
                    >Address</label
                  >
                  <div class="col-md-8 col-lg-9">
                    <input type="text" class="form-control" name="Address" />
                  </div>
                </div>

                <div class="row mb-3">
                  <label for="Phone" class="col-md-4 col-lg-3 col-form-label"
                    >Phone</label
                  >
                  <div class="col-md-8 col-lg-9">
                    <input type="text" class="form-control" name="Phone" />
                  </div>
                </div>

                <div class="row mb-3">
                  <label for="Email" class="col-md-4 col-lg-3 col-form-label"
                    >Email</label
                  >
                  <div class="col-md-8 col-lg-9">
                    <input type="email" class="form-control" name="Email" />
                  </div>
                </div>

                <div class="row mb-3">
                  <label for="Twitter" class="col-md-4 col-lg-3 col-form-label"
                    >Twitter Profile</label
                  >
                  <div class="col-md-8 col-lg-9">
                    <input
                      name="twitter"
                      type="text"
                      class="form-control"
                      id="Twitter"
                      value="https://twitter.com/#"
                    />
                  </div>
                </div>

                <div class="row mb-3">
                  <label for="Facebook" class="col-md-4 col-lg-3 col-form-label"
                    >Facebook Profile</label
                  >
                  <div class="col-md-8 col-lg-9">
                    <input
                      name="facebook"
                      type="text"
                      class="form-control"
                      id="Facebook"
                      value="https://facebook.com/#"
                    />
                  </div>
                </div>

                <div class="row mb-3">
                  <label
                    for="Instagram"
                    class="col-md-4 col-lg-3 col-form-label"
                    >Instagram Profile</label
                  >
                  <div class="col-md-8 col-lg-9">
                    <input
                      name="instagram"
                      type="text"
                      class="form-control"
                      id="Instagram"
                      value="https://instagram.com/#"
                    />
                  </div>
                </div>

                <div class="row mb-3">
                  <label for="Linkedin" class="col-md-4 col-lg-3 col-form-label"
                    >Linkedin Profile</label
                  >
                  <div class="col-md-8 col-lg-9">
                    <input
                      name="linkedin"
                      type="text"
                      class="form-control"
                      id="Linkedin"
                      value="https://linkedin.com/#"
                    />
                  </div>
                </div>

                <div class="text-center">
                  <button type="submit" class="btn btn-primary">
                    Save Changes
                  </button>
                </div>
              </form>
              <!-- End Profile Edit Form -->
            </div>

            <div class="tab-pane fade pt-3" id="profile-settings">
              <!-- Settings Form -->
              <form>
                <div class="row mb-3">
                  <label for="fullName" class="col-md-4 col-lg-3 col-form-label"
                    >Email Notifications</label
                  >
                  <div class="col-md-8 col-lg-9">
                    <div class="form-check">
                      <input
                        class="form-check-input"
                        type="checkbox"
                        id="changesMade"
                        checked
                      />
                      <label class="form-check-label" for="changesMade">
                        Changes made to your account
                      </label>
                    </div>
                    <div class="form-check">
                      <input
                        class="form-check-input"
                        type="checkbox"
                        id="newProducts"
                        checked
                      />
                      <label class="form-check-label" for="newProducts">
                        Information on new products and services
                      </label>
                    </div>
                    <div class="form-check">
                      <input
                        class="form-check-input"
                        type="checkbox"
                        id="proOffers"
                      />
                      <label class="form-check-label" for="proOffers">
                        Marketing and promo offers
                      </label>
                    </div>
                    <div class="form-check">
                      <input
                        class="form-check-input"
                        type="checkbox"
                        id="securityNotify"
                        checked
                        disabled
                      />
                      <label class="form-check-label" for="securityNotify">
                        Security alerts
                      </label>
                    </div>
                  </div>
                </div>

                <div class="text-center">
                  <button type="submit" class="btn btn-primary">
                    Save Changes
                  </button>
                </div>
              </form>
              <!-- End settings Form -->
            </div>

            <div class="tab-pane fade pt-3" id="profile-change-password">
              <!-- Change Password Form -->
              <h4 class="text-danger">Html.Raw(TempData["ChangePassword"])</h4>
              <form
                asp-action="ChangePassword"
                asp-controller="Home"
                method="post"
              >
                <div class="row mb-3">
                  <label
                    for="currentPassword"
                    class="col-md-4 col-lg-3 col-form-label"
                    >Current Password</label
                  >
                  <div class="col-md-8 col-lg-9">
                    <input
                      type="password"
                      class="form-control"
                      name="ChangePasswordVM.CurrentPassword"
                    />
                  </div>
                </div>

                <div class="row mb-3">
                  <label
                    for="newPassword"
                    class="col-md-4 col-lg-3 col-form-label"
                    >New Password</label
                  >
                  <div class="col-md-8 col-lg-9">
                    <input
                      type="password"
                      class="form-control"
                      name="ChangePasswordVM.NewPassword"
                    />
                    <span
                      asp-validation-for="ChangePasswordVM.NewCPassword"
                      class="text-danger"
                    ></span>
                  </div>
                </div>

                <div class="row mb-3">
                  <label
                    for="renewPassword"
                    class="col-md-4 col-lg-3 col-form-label"
                    >Re-enter New Password</label
                  >
                  <div class="col-md-8 col-lg-9">
                    <input
                      type="password"
                      class="form-control"
                      name="ChangePasswordVM.NewCPassword"
                    />
                    <span
                      asp-validation-for="ChangePasswordVM.NewCPassword"
                      class="text-danger"
                    ></span>
                  </div>
                </div>

                <div class="text-center">
                  <button type="submit" class="btn btn-primary">
                    Change Password
                  </button>
                </div>
              </form>
              <!-- End Change Password Form -->
            </div>
          </div>
          <!-- End Bordered Tabs -->
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  $(document).ready(function () {
    if (ViewBag.ActiveTab == 4) {
      Html.Raw("$('#profileTabs #btnChangePassword').tab('show');");
    }
  });
</script>
